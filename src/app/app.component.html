<mat-drawer-container class="body-wrapper" [hasBackdrop]="false">
  <mat-drawer #drawer mode="push">

    <mat-accordion>
      <mat-expansion-panel *ngFor="let chapter of allChapters$ | async">
        <mat-expansion-panel-header>
          <mat-panel-title>
            {{ chapter.chapterName }}
          </mat-panel-title>
        </mat-expansion-panel-header>

        <mat-list role="list">

          <mat-list-item role="listitem">
            <a 
              [routerLink]="chapter?.chapterUrl" 
              routerLinkActive="link-active" 
              [routerLinkActiveOptions]="{exact:true}"> Introduction</a>
          </mat-list-item>

          <mat-list-item *ngFor="let topic of chapter.challenges" role="listitem">
            <a 
              [routerLink]="chapter?.chapterUrl + '/workout/' + topic.challengeLocation" 
              routerLinkActive="link-active" 
              [routerLinkActiveOptions]="{exact:true}">{{ topic.challengeTitle }}</a>
          </mat-list-item>
        </mat-list>

      </mat-expansion-panel>
    </mat-accordion>

  </mat-drawer>
  <mat-drawer-content>

    <button class="hamburger hamburger--emphatic" type="button" [class.is-active]="drawer.opened"
      (click)="drawer.toggle()">
      <span class="hamburger-box">
        <span class="hamburger-inner"></span>
      </span>
    </button>

    <main id="main-content">
      <router-outlet></router-outlet>
    </main>
    <footer>Copyright 2020 Nik≈°a Fantela</footer>
  </mat-drawer-content>
</mat-drawer-container>

